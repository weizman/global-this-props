<script>
  {
    function method1() {
      let props = Object.getOwnPropertyNames(globalThis)
      props = props.concat(Object.getOwnPropertyNames(Object.prototype))
      if (globalThis?.Window?.prototype) {
        props = props.concat(Object.getOwnPropertyNames(Window.prototype))
      }
      if (globalThis?.EventTarget?.prototype) {
        props = props.concat(Object.getOwnPropertyNames(EventTarget.prototype))
      }
      return props;
    }
    
    function method2() {
      return Object.keys(Object.getOwnPropertyDescriptors(globalThis))
    }
  }
  
  const m1 = method1()
  const m2 = method2()
  
  {
    console.log('method1', m1.length, m1)
    console.log('method2', m2.length, m2)
  }
  {
    console.log('in method 1 but not in method 2', m1.filter(x => !m2.includes(x)))
    console.log('in method 2 but not in method 1', m2.filter(x => !m1.includes(x)))
  }
</script>
