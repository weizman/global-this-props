<script>
  {
    function method1() {
      let props = Object.getOwnPropertyNames(globalThis)
      props = props.concat(Object.getOwnPropertyNames(Object.prototype))
      if (globalThis?.Window?.prototype) {
        props = props.concat(Object.getOwnPropertyNames(Window.prototype))
      }
      if (globalThis?.EventTarget?.prototype) {
        props = props.concat(Object.getOwnPropertyNames(EventTarget.prototype))
      }
      return props;
    }
    
    function method2() {
      return Object.keys(Object.getOwnPropertyDescriptors(globalThis))
    }
  }
  
  {
    console.log('method1', method1().length, method1())
    console.log('method2', method2().length, method2())
  }
</script>
